(function(){"use strict";var e={3415:function(e,t,s){var r=s(5688),o=s(6768),a=s.p+"img/logo.ee216b49.png";const l={id:"app"},n=(0,o.Lk)("div",{class:"logo-container"},[(0,o.Lk)("img",{src:a,alt:"Lesson Booking Logo",class:"logo"})],-1);function c(e,t,s,r,a,c){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",l,[n,(0,o.bF)(i,{cart:a.cart,onAddToCart:c.addToCart,onUpdateCart:c.updateCart,onOrderPlaced:c.handleOrderPlaced},null,8,["cart","onAddToCart","onUpdateCart","onOrderPlaced"])])}s(4114),s(8111),s(116),s(8237);var i={name:"App",data(){return{cart:[]}},computed:{totalItems(){return this.cart.reduce(((e,t)=>e+(t.quantity||1)),0)}},methods:{addToCart(e){const t=this.cart.find((t=>t._id===e._id));t?this.$set(t,"quantity",t.quantity+1):this.cart.push({...e,quantity:1})},updateCart(e){this.cart=[...e]},handleOrderPlaced(){this.cart=[],this.$router.push("/")}}},u=s(1241);const d=(0,u.A)(i,[["render",c]]);var p=d,h=s(1387),k=s(5187);const L=e=>((0,o.Qi)("data-v-7ba3bd3b"),e=e(),(0,o.jt)(),e),m={class:"cart-page"},f=L((()=>(0,o.Lk)("h2",null,"🛒 Your Shopping Cart",-1))),v={key:0,class:"cart-items"},y={class:"cart-item-actions"},b=L((()=>(0,o.Lk)("strong",null,"Total:",-1))),g=["onClick"],C={class:"cart-summary"},_=L((()=>(0,o.Lk)("strong",null,"Total Items:",-1))),O=L((()=>(0,o.Lk)("strong",null,"Total Price:",-1))),E={class:"cart-buttons"},S={key:1,class:"empty-cart"},T=L((()=>(0,o.Lk)("p",null,"Your cart is empty. Go back and add some lessons!",-1)));function w(e,t,s,r,a,l){return(0,o.uX)(),(0,o.CE)("div",m,[f,s.cart.length?((0,o.uX)(),(0,o.CE)("div",v,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.cart,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e._id,class:"cart-item"},[(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,(0,k.v_)(e.title),1),(0,o.Lk)("p",null,"Price: $"+(0,k.v_)(e.price),1),(0,o.Lk)("p",null,"Quantity: "+(0,k.v_)(e.quantity),1)]),(0,o.Lk)("div",y,[(0,o.Lk)("p",null,[b,(0,o.eW)(" $"+(0,k.v_)(e.price*e.quantity),1)]),(0,o.Lk)("button",{onClick:t=>l.removeItem(e),class:"remove-btn"},"Remove",8,g)])])))),128)),(0,o.Lk)("div",C,[(0,o.Lk)("p",null,[_,(0,o.eW)(" "+(0,k.v_)(l.totalQuantity),1)]),(0,o.Lk)("p",null,[O,(0,o.eW)(" $"+(0,k.v_)(l.total),1)]),(0,o.Lk)("div",E,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.goToCheckout&&l.goToCheckout(...e)),class:"checkout-btn"},"Proceed to Checkout"),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.goBackToLessons&&l.goBackToLessons(...e)),class:"back-btn"},"Back to Lessons")])])])):((0,o.uX)(),(0,o.CE)("div",S,[T,(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.goBackToLessons&&l.goBackToLessons(...e)),class:"home-btn"},"🏠 Return to Lessons")]))])}s(2489);var q={name:"LessonCart",props:{cart:{type:Array,required:!0}},computed:{total(){return this.cart.reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2)},totalQuantity(){return this.cart.reduce(((e,t)=>e+t.quantity),0)}},methods:{increaseQuantity(e){e.space>0&&(e.quantity++,e.space--)},decreaseQuantity(e){e.quantity>1?(e.quantity--,e.space++):this.removeItem(e)},removeItem(e){const t=this.cart.filter((t=>t._id!==e._id));this.$emit("update-cart",t);const s=this.$parent.lessons.find((t=>t._id===e._id));s&&(s.space+=e.quantity)},goToCheckout(){this.$router.push("/checkout")},goBackToLessons(){this.$router.push("/lessons")}}};const Q=(0,u.A)(q,[["render",w],["__scopeId","data-v-7ba3bd3b"]]);var X=Q;const M=e=>((0,o.Qi)("data-v-8a5c6d8c"),e=e(),(0,o.jt)(),e),j={class:"checkout-page"},A=M((()=>(0,o.Lk)("h2",{class:"text-center mb-4"},"🛒 Checkout",-1))),P={key:0,class:"alert alert-success",role:"alert"},$={key:1,class:"alert alert-danger",role:"alert"},N={class:"row g-4"},x={class:"col-md-6"},I=M((()=>(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("First Name "),(0,o.Lk)("span",null,"*")],-1))),B={class:"col-md-6"},U=M((()=>(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("Last Name "),(0,o.Lk)("span",null,"*")],-1))),W={class:"col-12"},F=M((()=>(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("Address "),(0,o.Lk)("span",null,"*")],-1))),K={class:"col-md-4"},V=M((()=>(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("City "),(0,o.Lk)("span",null,"*")],-1))),J={class:"col-md-4"},z=M((()=>(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("State "),(0,o.Lk)("span",null,"*")],-1))),D=M((()=>(0,o.Lk)("option",{disabled:"",value:""},"Select State",-1))),H=["value"],Y={class:"col-md-4"},R=M((()=>(0,o.Lk)("label",{class:"form-label"},[(0,o.eW)("Zip Code "),(0,o.Lk)("span",null,"*")],-1))),Z={class:"col-12"},G=M((()=>(0,o.Lk)("label",{class:"form-label"},"Shipping Method",-1))),ee={class:"form-check form-check-inline"},te=M((()=>(0,o.Lk)("label",{class:"form-check-label"},"Home",-1))),se={class:"form-check form-check-inline"},re=M((()=>(0,o.Lk)("label",{class:"form-check-label"},"Business",-1))),oe={class:"order-summary mt-5"},ae=M((()=>(0,o.Lk)("h3",null,"🧾 Order Summary",-1))),le={class:"text-end"},ne={class:"checkout-buttons mt-4 d-flex justify-content-between"},ce=M((()=>(0,o.Lk)("button",{type:"submit",class:"btn btn-success w-50 me-2"},"Place Order",-1)));function ie(e,t,s,a,l,n){return(0,o.uX)(),(0,o.CE)("div",j,[A,l.successMessage?((0,o.uX)(),(0,o.CE)("div",P,(0,k.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",$,(0,k.v_)(l.errorMessage),1)):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:t[9]||(t[9]=(0,r.D$)(((...e)=>n.placeOrder&&n.placeOrder(...e)),["prevent"])),class:"checkout-form"},[(0,o.Lk)("div",N,[(0,o.Lk)("div",x,[I,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.order.firstName=e),class:"form-control",placeholder:"John",required:""},null,512),[[r.Jo,l.order.firstName]])]),(0,o.Lk)("div",B,[U,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.order.lastName=e),class:"form-control",placeholder:"Doe",required:""},null,512),[[r.Jo,l.order.lastName]])]),(0,o.Lk)("div",W,[F,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.order.address=e),class:"form-control",placeholder:"123 Main St",required:""},null,512),[[r.Jo,l.order.address]])]),(0,o.Lk)("div",K,[V,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.order.city=e),class:"form-control",placeholder:"City Name",required:""},null,512),[[r.Jo,l.order.city]])]),(0,o.Lk)("div",J,[z,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.order.state=e),class:"form-select",required:""},[D,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.states,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e},(0,k.v_)(e),9,H)))),128))],512),[[r.u1,l.order.state]])]),(0,o.Lk)("div",Y,[R,(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>l.order.zip=e),class:"form-control",placeholder:"12345",required:""},null,512),[[r.Jo,l.order.zip]])]),(0,o.Lk)("div",Z,[G,(0,o.Lk)("div",ee,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>l.order.method=e),value:"Home",checked:""},null,512),[[r.XL,l.order.method]]),te]),(0,o.Lk)("div",se,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[7]||(t[7]=e=>l.order.method=e),value:"Business"},null,512),[[r.XL,l.order.method]]),re])])]),(0,o.Lk)("div",oe,[ae,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.cart,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e._id},(0,k.v_)(e.title)+" x "+(0,k.v_)(e.quantity)+" - $"+(0,k.v_)(e.price*e.quantity),1)))),128))]),(0,o.Lk)("p",le,[(0,o.Lk)("strong",null,"Total: $"+(0,k.v_)(n.total),1)])]),(0,o.Lk)("div",ne,[ce,(0,o.Lk)("button",{type:"button",class:"btn btn-secondary w-50 ms-2",onClick:t[8]||(t[8]=t=>e.$router.push("/cart"))},"Back to Cart")])],32)])}s(1701);var ue={name:"CheckoutPage",props:["cart"],data(){return{order:{firstName:"",lastName:"",address:"",city:"",state:"",zip:"",method:"Home"},states:{AL:"Alabama",AZ:"Arizona",CA:"California",NY:"New York"},successMessage:"",errorMessage:""}},computed:{total(){return this.cart.reduce(((e,t)=>e+t.price*t.quantity),0)}},methods:{placeOrder(){if(!this.order.firstName||!this.order.lastName||!this.order.address||!this.order.city||!this.order.state||!this.order.zip)return this.errorMessage="⚠️ Please fill in all required fields!",void(this.successMessage="");const e={...this.order,items:this.cart.map((e=>({lessonId:e._id,quantity:e.quantity})))};fetch("https://activityhive-backend-2.onrender.com/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e),this.successMessage="🎉 Order placed successfully!",this.errorMessage="",setTimeout((()=>{this.$emit("order-placed"),this.$router.push("/")}),2e3)})).catch((e=>{console.error("Order error:",e),this.errorMessage="❌ Failed to place order. Please try again!",this.successMessage=""}))}}};const de=(0,u.A)(ue,[["render",ie],["__scopeId","data-v-8a5c6d8c"]]);var pe=de;const he=e=>((0,o.Qi)("data-v-128a8f9e"),e=e(),(0,o.jt)(),e),ke={class:"lesson-list"},Le=he((()=>(0,o.Lk)("h1",null,"Available Lessons",-1))),me={key:0,class:"alert alert-primary",role:"alert"},fe={class:"search-sort-wrapper"},ve={class:"sort-buttons"},ye={key:1},be={key:2,class:"error-message"},ge={key:3},Ce=he((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Icon"),(0,o.Lk)("th",null,"Title"),(0,o.Lk)("th",null,"Subject"),(0,o.Lk)("th",null,"Description"),(0,o.Lk)("th",null,"Location"),(0,o.Lk)("th",null,"Price"),(0,o.Lk)("th",null,"Spaces"),(0,o.Lk)("th",null,"Duration"),(0,o.Lk)("th",null,"Action")])],-1))),_e=["src"],Oe=["onClick","disabled"],Ee={key:4};function Se(e,t,s,a,l,n){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",ke,[Le,l.alertMessage?((0,o.uX)(),(0,o.CE)("div",me,(0,k.v_)(l.alertMessage),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",fe,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchQuery=e),placeholder:"Search lessons...",class:"search-bar"},null,512),[[r.Jo,l.searchQuery]]),(0,o.Lk)("div",ve,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>n.setSort("subject"))},"Sort by Subject"),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>n.setSort("location"))},"Sort by Location"),(0,o.Lk)("button",{onClick:t[3]||(t[3]=e=>n.setSort("price"))},"Sort by Price"),(0,o.Lk)("button",{onClick:t[4]||(t[4]=e=>n.setSort("spaces"))},"Sort by Spaces"),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.toggleSortOrder&&n.toggleSortOrder(...e))},(0,k.v_)("asc"===l.sortOrder?"⬆ Ascending":"⬇ Descending"),1)])]),l.loading?((0,o.uX)(),(0,o.CE)("p",ye,"⏳ Loading lessons...")):(0,o.Q3)("",!0),l.apiError?((0,o.uX)(),(0,o.CE)("p",be,"❌ "+(0,k.v_)(l.apiError),1)):(0,o.Q3)("",!0),n.sortedLessons.length?((0,o.uX)(),(0,o.CE)("table",ge,[Ce,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.sortedLessons,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e._id},[(0,o.Lk)("td",null,[(0,o.Lk)("img",{src:e.icon,alt:"icon",width:"50"},null,8,_e)]),(0,o.Lk)("td",null,(0,k.v_)(e.title),1),(0,o.Lk)("td",null,(0,k.v_)(e.subject),1),(0,o.Lk)("td",null,(0,k.v_)(e.description),1),(0,o.Lk)("td",null,(0,k.v_)(e.location),1),(0,o.Lk)("td",null,"$"+(0,k.v_)(e.price),1),(0,o.Lk)("td",null,(0,k.v_)(e.space),1),(0,o.Lk)("td",null,(0,k.v_)(e.duration),1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{onClick:t=>n.addToCart(e),disabled:e.space<=0},(0,k.v_)(e.space>0?"Add to Cart":"Sold Out"),9,Oe)])])))),128))])])):((0,o.uX)(),(0,o.CE)("p",Ee,"No lessons found.")),s.cart.length>0?((0,o.uX)(),(0,o.Wv)(c,{key:5,to:"/cart",class:"cart-btn"},{default:(0,o.k6)((()=>[(0,o.eW)(" 🛒 Cart ("+(0,k.v_)(s.cart.length)+") ",1)])),_:1})):(0,o.Q3)("",!0)])}var Te={name:"LessonList",props:["refresh","cart"],data(){return{lessons:[],searchQuery:"",sortKey:"subject",sortOrder:"asc",alertMessage:"",loading:!0,apiError:""}},created(){this.fetchLessons()},watch:{refresh(){console.log("Refreshing lessons..."),this.fetchLessons()}},methods:{async fetchLessons(){this.loading=!0,this.apiError="";try{const e=await fetch("https://activityhive-backend-2.onrender.com/lessons");if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);const t=await e.json();this.lessons=t.map((e=>({...e,cartQuantity:0})))}catch(e){console.error("API Error:",e),this.apiError="Failed to fetch lessons. Please try again."}finally{this.loading=!1}},addToCart(e){if(e.space>0){let t=this.cart.find((t=>t._id===e._id));if(t){if(!(e.space>t.cartQuantity))return this.alertMessage="No more spaces available!",void setTimeout((()=>this.alertMessage=""),3e3);t.cartQuantity++,e.space--}else this.$emit("add-to-cart",{...e,cartQuantity:1}),e.space--;this.alertMessage="Lesson added to cart successfully!"}else this.alertMessage="No spaces left!";setTimeout((()=>this.alertMessage=""),3e3)},setSort(e){this.sortKey=e},toggleSortOrder(){this.sortOrder="asc"===this.sortOrder?"desc":"asc"}},computed:{sortedLessons(){let e=[...this.lessons];return this.sortKey&&e.sort(((e,t)=>{let s=e[this.sortKey],r=t[this.sortKey];return"string"===typeof s?"asc"===this.sortOrder?s.localeCompare(r):r.localeCompare(s):"asc"===this.sortOrder?s-r:r-s})),e.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())||e.subject.toLowerCase().includes(this.searchQuery.toLowerCase())||e.location.toLowerCase().includes(this.searchQuery.toLowerCase())))}}};const we=(0,u.A)(Te,[["render",Se],["__scopeId","data-v-128a8f9e"]]);var qe=we;const Qe=[{path:"/cart",component:X},{path:"/checkout",component:pe},{path:"/lessons",component:qe},{path:"/",redirect:"/lessons"}],Xe=(0,h.aE)({history:(0,h.Bt)(),routes:Qe});var Me=Xe;const je=(0,r.Ef)(p);je.use(Me),je.mount("#app")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,a){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],a=e[u][2];for(var n=!0,c=0;c<r.length;c++)(!1&a||l>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[c])}))?r.splice(c--,1):(n=!1,a<l&&(l=a));if(n){e.splice(u--,1);var i=o();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,l=r[0],n=r[1],c=r[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(c)var u=c(s)}for(t&&t(r);i<l.length;i++)a=l[i],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(3415)}));r=s.O(r)})();
//# sourceMappingURL=app.36311dca.js.map