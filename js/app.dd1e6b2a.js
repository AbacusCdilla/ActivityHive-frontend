(function(){"use strict";var e={5527:function(e,t,s){var r=s(5688),a=s(6768),o=s.p+"img/logo.ee216b49.png";const n={id:"app"},l=(0,a.Lk)("div",{class:"logo-container"},[(0,a.Lk)("img",{src:o,alt:"Lesson Booking Logo",class:"logo"})],-1);function c(e,t,s,r,o,c){const i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",n,[l,(0,a.bF)(i,{cart:o.cart,onAddToCart:c.addToCart,onUpdateCart:c.updateCart,onOrderPlaced:c.handleOrderPlaced},null,8,["cart","onAddToCart","onUpdateCart","onOrderPlaced"])])}s(4114),s(8111),s(116),s(8237);var i={name:"App",data(){return{cart:[]}},computed:{totalItems(){return this.cart.reduce(((e,t)=>e+(t.quantity||1)),0)}},methods:{addToCart(e){const t=this.cart.find((t=>t._id===e._id));t?e.space>0&&(t.quantity++,e.space--):(this.cart.push({...e,quantity:1}),e.space--)},updateCart(e){this.cart=[...e]},restoreLessonSpace({_id:e,quantity:t}){const s=this.$refs.lessonList.lessons.find((t=>t._id===e));s&&(s.space+=t)},handleOrderPlaced(){this.cart=[],this.$router.push("/")}}},u=s(1241);const d=(0,u.A)(i,[["render",c]]);var p=d,h=s(1387),k=s(5187);const L=e=>((0,a.Qi)("data-v-0d17710a"),e=e(),(0,a.jt)(),e),m={class:"cart-page"},v=L((()=>(0,a.Lk)("h2",null,"ðŸ›’ Your Shopping Cart",-1))),f={key:0,class:"cart-items"},y={class:"cart-item-actions"},b=L((()=>(0,a.Lk)("strong",null,"Total:",-1))),g=["onClick"],C={class:"cart-summary"},_=L((()=>(0,a.Lk)("strong",null,"Total Items:",-1))),O=L((()=>(0,a.Lk)("strong",null,"Total Price:",-1))),M={class:"cart-buttons"},E={key:1,class:"empty-cart"},T=L((()=>(0,a.Lk)("p",null,"Your cart is empty. Go back and add some lessons!",-1)));function w(e,t,s,r,o,n){return(0,a.uX)(),(0,a.CE)("div",m,[v,s.cart.length?((0,a.uX)(),(0,a.CE)("div",f,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.cart,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e._id,class:"cart-item"},[(0,a.Lk)("div",null,[(0,a.Lk)("h3",null,(0,k.v_)(e.title),1),(0,a.Lk)("p",null,"Price: $"+(0,k.v_)(e.price),1),(0,a.Lk)("p",null,"Quantity: "+(0,k.v_)(e.quantity),1)]),(0,a.Lk)("div",y,[(0,a.Lk)("p",null,[b,(0,a.eW)(" $"+(0,k.v_)(e.price*e.quantity),1)]),(0,a.Lk)("button",{onClick:t=>n.removeItem(e),class:"remove-btn"},"Remove",8,g)])])))),128)),(0,a.Lk)("div",C,[(0,a.Lk)("p",null,[_,(0,a.eW)(" "+(0,k.v_)(n.totalQuantity),1)]),(0,a.Lk)("p",null,[O,(0,a.eW)(" $"+(0,k.v_)(n.total),1)]),(0,a.Lk)("div",M,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.goToCheckout&&n.goToCheckout(...e)),class:"checkout-btn"},"Proceed to Checkout"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.goBackToLessons&&n.goBackToLessons(...e)),class:"back-btn"},"Back to Lessons")])])])):((0,a.uX)(),(0,a.CE)("div",E,[T,(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.goBackToLessons&&n.goBackToLessons(...e)),class:"home-btn"},"ðŸ  Return to Lessons")]))])}s(2489);var N={name:"LessonCart",props:{cart:{type:Array,required:!0}},computed:{total(){return this.cart.reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2)},totalQuantity(){return this.cart.reduce(((e,t)=>e+t.quantity),0)}},methods:{increaseQuantity(e){e.space>0&&(e.quantity++,e.space--,this.$emit("update-cart",this.cart))},decreaseQuantity(e){e.quantity>1?(e.quantity--,e.space++,this.$emit("update-cart",this.cart)):this.removeItem(e)},removeItem(e){const t=this.cart.filter((t=>t._id!==e._id));this.$emit("update-cart",t),this.$emit("update-lesson-space",{_id:e._id,quantity:e.quantity})},goToCheckout(){this.$router.push("/checkout")},goBackToLessons(){this.$router.push("/lessons")}}};const A=(0,u.A)(N,[["render",w],["__scopeId","data-v-0d17710a"]]);var q=A;const I=e=>((0,a.Qi)("data-v-dd63c82c"),e=e(),(0,a.jt)(),e),S={class:"checkout-page"},X=I((()=>(0,a.Lk)("h2",{class:"text-center mb-4"},"ðŸ›’ Checkout",-1))),P={key:0,class:"alert alert-success",role:"alert"},Q={key:1,class:"alert alert-danger",role:"alert"},$={class:"row g-4"},j={class:"col-md-6"},W=I((()=>(0,a.Lk)("label",{class:"form-label"},[(0,a.eW)("First Name "),(0,a.Lk)("span",null,"*")],-1))),x={class:"col-md-6"},V=I((()=>(0,a.Lk)("label",{class:"form-label"},[(0,a.eW)("Last Name "),(0,a.Lk)("span",null,"*")],-1))),K={class:"col-12"},U=I((()=>(0,a.Lk)("label",{class:"form-label"},[(0,a.eW)("Address "),(0,a.Lk)("span",null,"*")],-1))),D={class:"col-md-4"},F=I((()=>(0,a.Lk)("label",{class:"form-label"},[(0,a.eW)("City "),(0,a.Lk)("span",null,"*")],-1))),B={class:"col-md-4"},H=I((()=>(0,a.Lk)("label",{class:"form-label"},[(0,a.eW)("State "),(0,a.Lk)("span",null,"*")],-1))),J=I((()=>(0,a.Lk)("option",{disabled:"",value:""},"Select State",-1))),R=["value"],Y={class:"col-md-4"},z=I((()=>(0,a.Lk)("label",{class:"form-label"},[(0,a.eW)("Zip Code "),(0,a.Lk)("span",null,"*")],-1))),G={class:"col-12"},Z=I((()=>(0,a.Lk)("label",{class:"form-label"},"Shipping Method",-1))),ee={class:"form-check form-check-inline"},te=I((()=>(0,a.Lk)("label",{class:"form-check-label"},"Home",-1))),se={class:"form-check form-check-inline"},re=I((()=>(0,a.Lk)("label",{class:"form-check-label"},"Business",-1))),ae={class:"order-summary mt-5"},oe=I((()=>(0,a.Lk)("h3",null,"ðŸ§¾ Order Summary",-1))),ne={class:"text-end"},le={class:"checkout-buttons mt-4 d-flex justify-content-between"},ce=I((()=>(0,a.Lk)("button",{type:"submit",class:"btn btn-success w-50 me-2"}," Place Order ",-1)));function ie(e,t,s,o,n,l){return(0,a.uX)(),(0,a.CE)("div",S,[X,n.successMessage?((0,a.uX)(),(0,a.CE)("div",P,(0,k.v_)(n.successMessage),1)):(0,a.Q3)("",!0),n.errorMessage?((0,a.uX)(),(0,a.CE)("div",Q,(0,k.v_)(n.errorMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("form",{onSubmit:t[9]||(t[9]=(0,r.D$)(((...e)=>l.placeOrder&&l.placeOrder(...e)),["prevent"])),class:"checkout-form"},[(0,a.Lk)("div",$,[(0,a.Lk)("div",j,[W,(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.order.firstName=e),class:"form-control",placeholder:"John",required:""},null,512),[[r.Jo,n.order.firstName]])]),(0,a.Lk)("div",x,[V,(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.order.lastName=e),class:"form-control",placeholder:"Doe",required:""},null,512),[[r.Jo,n.order.lastName]])]),(0,a.Lk)("div",K,[U,(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.order.address=e),class:"form-control",placeholder:"123 Main St",required:""},null,512),[[r.Jo,n.order.address]])]),(0,a.Lk)("div",D,[F,(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.order.city=e),class:"form-control",placeholder:"City Name",required:""},null,512),[[r.Jo,n.order.city]])]),(0,a.Lk)("div",B,[H,(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.order.state=e),class:"form-select",required:""},[J,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.states,((e,t)=>((0,a.uX)(),(0,a.CE)("option",{key:t,value:e},(0,k.v_)(e),9,R)))),128))],512),[[r.u1,n.order.state]])]),(0,a.Lk)("div",Y,[z,(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>n.order.zip=e),class:"form-control",placeholder:"12345",required:""},null,512),[[r.Jo,n.order.zip]])]),(0,a.Lk)("div",G,[Z,(0,a.Lk)("div",ee,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>n.order.method=e),value:"Home",checked:""},null,512),[[r.XL,n.order.method]]),te]),(0,a.Lk)("div",se,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[7]||(t[7]=e=>n.order.method=e),value:"Business"},null,512),[[r.XL,n.order.method]]),re])])]),(0,a.Lk)("div",ae,[oe,(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.cart,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e._id},(0,k.v_)(e.title)+" x "+(0,k.v_)(e.quantity)+" - $"+(0,k.v_)(e.price*e.quantity),1)))),128))]),(0,a.Lk)("p",ne,[(0,a.Lk)("strong",null,"Total: $"+(0,k.v_)(l.total),1)])]),(0,a.Lk)("div",le,[ce,(0,a.Lk)("button",{type:"button",class:"btn btn-secondary w-50 ms-2",onClick:t[8]||(t[8]=t=>e.$router.push("/cart"))}," Back to Cart ")])],32)])}s(1701);var ue={name:"CheckoutPage",props:["cart"],data(){return{order:{firstName:"",lastName:"",address:"",city:"",state:"",zip:"",method:"Home"},states:{AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},successMessage:"",errorMessage:""}},computed:{total(){return this.cart.reduce(((e,t)=>e+t.price*t.quantity),0)}},methods:{placeOrder(){if(!this.order.firstName||!this.order.lastName||!this.order.address||!this.order.city||!this.order.state||!this.order.zip)return this.errorMessage="âš ï¸ Please fill in all required fields!",void(this.successMessage="");const e={...this.order,items:this.cart.map((e=>({lessonId:e._id,quantity:e.quantity})))};fetch("https://activityhive-backend-2.onrender.com/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e),this.successMessage="ðŸŽ‰ Order placed successfully!",this.errorMessage="",setTimeout((()=>{this.$emit("order-placed"),this.$router.push("/")}),2e3)})).catch((e=>{console.error("Order error:",e),this.errorMessage="âŒ Failed to place order. Please try again!",this.successMessage=""}))}}};const de=(0,u.A)(ue,[["render",ie],["__scopeId","data-v-dd63c82c"]]);var pe=de;const he=e=>((0,a.Qi)("data-v-49ff45ec"),e=e(),(0,a.jt)(),e),ke={class:"lesson-list"},Le=he((()=>(0,a.Lk)("h1",null,"Available Lessons",-1))),me={key:0,class:"alert alert-primary",role:"alert"},ve={class:"search-sort-wrapper"},fe={class:"sort-controls"},ye=he((()=>(0,a.Lk)("option",{value:"subject"},"Subject",-1))),be=he((()=>(0,a.Lk)("option",{value:"location"},"Location",-1))),ge=he((()=>(0,a.Lk)("option",{value:"price"},"Price",-1))),Ce=he((()=>(0,a.Lk)("option",{value:"spaces"},"Spaces",-1))),_e=[ye,be,ge,Ce],Oe={key:1},Me={key:2,class:"error-message"},Ee={key:3},Te=he((()=>(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Icon"),(0,a.Lk)("th",null,"Title"),(0,a.Lk)("th",null,"Subject"),(0,a.Lk)("th",null,"Description"),(0,a.Lk)("th",null,"Location"),(0,a.Lk)("th",null,"Price"),(0,a.Lk)("th",null,"Spaces"),(0,a.Lk)("th",null,"Duration"),(0,a.Lk)("th",null,"Action")])],-1))),we=["src"],Ne=["onClick","disabled"],Ae={key:4};function qe(e,t,s,o,n,l){const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",ke,[Le,n.alertMessage?((0,a.uX)(),(0,a.CE)("div",me,(0,k.v_)(n.alertMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",ve,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),placeholder:"Search lessons...",class:"search-bar"},null,512),[[r.Jo,n.searchQuery]]),(0,a.Lk)("div",fe,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.sortKey=e),class:"sort-select"},_e,512),[[r.u1,n.sortKey]]),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.toggleSortOrder&&l.toggleSortOrder(...e)),class:"sort-order-btn"},(0,k.v_)("asc"===n.sortOrder?"â¬† Ascending":"â¬‡ Descending"),1)])]),n.loading?((0,a.uX)(),(0,a.CE)("p",Oe,"â³ Loading lessons...")):(0,a.Q3)("",!0),n.apiError?((0,a.uX)(),(0,a.CE)("p",Me,"âŒ "+(0,k.v_)(n.apiError),1)):(0,a.Q3)("",!0),l.sortedLessons.length?((0,a.uX)(),(0,a.CE)("table",Ee,[Te,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.sortedLessons,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e._id},[(0,a.Lk)("td",null,[(0,a.Lk)("img",{src:e.icon,alt:"icon",width:"50"},null,8,we)]),(0,a.Lk)("td",null,(0,k.v_)(e.title),1),(0,a.Lk)("td",null,(0,k.v_)(e.subject),1),(0,a.Lk)("td",null,(0,k.v_)(e.description),1),(0,a.Lk)("td",null,(0,k.v_)(e.location),1),(0,a.Lk)("td",null,"$"+(0,k.v_)(e.price),1),(0,a.Lk)("td",null,(0,k.v_)(e.space),1),(0,a.Lk)("td",null,(0,k.v_)(e.duration),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{onClick:t=>l.addToCart(e),disabled:e.space<=0},(0,k.v_)(e.space>0?"Add to Cart":"Sold Out"),9,Ne)])])))),128))])])):((0,a.uX)(),(0,a.CE)("p",Ae,"No lessons found.")),s.cart.length>0?((0,a.uX)(),(0,a.Wv)(c,{key:5,to:"/cart",class:"cart-btn"},{default:(0,a.k6)((()=>[(0,a.eW)(" ðŸ›’ Cart ("+(0,k.v_)(s.cart.length)+") ",1)])),_:1})):(0,a.Q3)("",!0)])}var Ie={name:"LessonList",props:["refresh","cart"],data(){return{lessons:[],searchQuery:"",sortKey:"subject",sortOrder:"asc",alertMessage:"",loading:!0,apiError:""}},created(){this.fetchLessons()},watch:{refresh(){console.log("Refreshing lessons..."),this.fetchLessons()}},methods:{async fetchLessons(){this.loading=!0,this.apiError="";try{const e=await fetch("https://activityhive-backend-2.onrender.com/lessons");if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);const t=await e.json();this.lessons=t.map((e=>{const t=this.cart.find((t=>t._id===e._id));return{...e,cartQuantity:t?t.quantity:0,space:e.space-(t?t.quantity:0)}}))}catch(e){console.error("API Error:",e),this.apiError="Failed to fetch lessons. Please try again."}finally{this.loading=!1}},addToCart(e){if(e.space>0){let t=this.cart.find((t=>t._id===e._id));if(t)t.quantity++;else{let t={...e,quantity:1};this.$emit("add-to-cart",t)}e.space--,this.alertMessage="Lesson added to cart successfully!"}else this.alertMessage="No spaces left!";setTimeout((()=>this.alertMessage=""),3e3)},toggleSortOrder(){this.sortOrder="asc"===this.sortOrder?"desc":"asc"}},computed:{sortedLessons(){let e=[...this.lessons];return this.sortKey&&e.sort(((e,t)=>{let s=e[this.sortKey],r=t[this.sortKey];return"string"===typeof s?"asc"===this.sortOrder?s.localeCompare(r):r.localeCompare(s):"asc"===this.sortOrder?s-r:r-s})),e.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())||e.subject.toLowerCase().includes(this.searchQuery.toLowerCase())||e.location.toLowerCase().includes(this.searchQuery.toLowerCase())))}}};const Se=(0,u.A)(Ie,[["render",qe],["__scopeId","data-v-49ff45ec"]]);var Xe=Se;const Pe=[{path:"/cart",component:q},{path:"/checkout",component:pe},{path:"/lessons",component:Xe},{path:"/",redirect:"/lessons"}],Qe=(0,h.aE)({history:(0,h.Bt)(),routes:Pe});var $e=Qe;const je=(0,r.Ef)(p);je.use($e),je.mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,o){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],o=e[u][2];for(var l=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(s.O).every((function(e){return s.O[e](r[c])}))?r.splice(c--,1):(l=!1,o<n&&(n=o));if(l){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/ActivityHive-frontend/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,n=r[0],l=r[1],c=r[2],i=0;if(n.some((function(t){return 0!==e[t]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(c)var u=c(s)}for(t&&t(r);i<n.length;i++)o=n[i],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(5527)}));r=s.O(r)})();
//# sourceMappingURL=app.dd1e6b2a.js.map